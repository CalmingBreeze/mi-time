{% extends "core/components/base.html" %}
{% load i18n %}
{% load l10n %}
{% load static %}
{% load core_extras %}

{% block meta_title %}{{product.meta_title}}{% endblock %}
{% block meta_description %}{{product.meta_description}}{% endblock %}
{% block meta_keywords %}{{product.meta_keywords}}{% endblock %}

{% block content %}
    {% if product %}
    <section id="product-full-description">
        <div class="title-duration-wrapper">
            <h1>{{product.name}}</h1>
            <h2>
                <span class="icon regular fa-clock">
                    {% if product.has_valid_discount %}
                        {{product.duration|duration:'short'}} — {{product.promo_name}} — <s>{{product.price|floatformat}}</s> {{product.promo_discounted_price|floatformat}}€
                    {% else %}
                        {{product.duration|duration:'short'}} — {{product.price|floatformat}}€
                    {% endif %}
                </span>
            </h2>
        </div>
        <hr>
        <div class="richtext">
            {{product.text1|safe}}
        </div>
        {% comment "Not needed for single practice" %}
        <!-- Get practice proposing this massage -->
        {% if product.practice_set.count > 0 %}
            <p>{% translate "This massage is available at" %} :</p>
            <ul>
                {% for practice in product.practice_set.all %}
                    <li>{{practice}}</li>
                {% endfor %}
            </ul>
        {% endif %}
        {% endcomment %}
    {% endif %}
    </section>
{% endblock %}